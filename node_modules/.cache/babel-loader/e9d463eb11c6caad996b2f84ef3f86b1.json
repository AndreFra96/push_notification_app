{"remainingRequest":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/babel-loader/lib/index.js!/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue","mtime":1626256660235},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2FuZHJlYWJyaW9zY2hpL0Rlc2t0b3AvcHJvZ2V0dG8gVExXL3B1c2gtbm90aWZpY2F0aW9uLWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMi9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERpc21pc3NhYmxlQWxlcnQgZnJvbSAiLi4vY29tcG9uZW50cy9EaXNtaXNzYWJsZUFsZXJ0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOb3RpZmljYXRpb25EaXJlY3RGb3JtIiwKICBjb21wb25lbnRzOiB7CiAgICBEaXNtaXNzYWJsZUFsZXJ0OiBEaXNtaXNzYWJsZUFsZXJ0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdG9rZW46IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgdGl0bGU6ICIiLAogICAgICBib2R5OiAiIiwKICAgICAgYWxlcnQ6IHsKICAgICAgICBtZXNzYWdlOiAiIiwKICAgICAgICBzdGF0dXM6ICJkLW5vbmUiLAogICAgICAgIHN1Y2Nlc3M6IHRydWUKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGludmlhTm90aWZpY2E6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9pbnZpYU5vdGlmaWNhID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhY2Nlc3NUb2tlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRoLmdldFRva2VuU2lsZW50bHkoKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLnBvc3QoImh0dHBzOi8vcHVzaC1hcGkuaGVyb2t1YXBwLmNvbS9tZXNzYWdlcyIsIHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICAgICAgICAgIGJvZHk6IHRoaXMuYm9keSwKICAgICAgICAgICAgICAgICAgdG9rZW46IHRoaXMudG9rZW4KICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246ICJCZWFyZXIgIi5jb25jYXQoYWNjZXNzVG9rZW4pCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB0aGlzLnNob3dSZXNwb25zZUFsZXJ0KCJPcGVyYXppb25lIGNvbXBsZXRhdGEsIGlsIG1lc3NhZ2dpbyDDqCBzdGF0byBpbnZpYXRvIik7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgdGhpcy5zaG93UmVzcG9uc2VBbGVydCgiRXJyb3JlOiBpbCBzZXJ2ZXIgaGEgcmlzcG9zdG8gY29uICciLmNvbmNhdChfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXMsICI6ICIpLmNvbmNhdChfY29udGV4dC50MC5yZXNwb25zZS5zdGF0dXNUZXh0LCAiJyIpLCBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzMsIDldXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGludmlhTm90aWZpY2EoKSB7CiAgICAgICAgcmV0dXJuIF9pbnZpYU5vdGlmaWNhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnZpYU5vdGlmaWNhOwogICAgfSgpLAogICAgc2hvd1Jlc3BvbnNlQWxlcnQ6IGZ1bmN0aW9uIHNob3dSZXNwb25zZUFsZXJ0KG1lc3NhZ2UpIHsKICAgICAgdmFyIHN1Y2Nlc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7CiAgICAgIHRoaXMuYWxlcnQubWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgIHRoaXMuYWxlcnQuc3RhdHVzID0gImQtYmxvY2siOwogICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MgPSBzdWNjZXNzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["NotificationDirectForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA,OAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,wBADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,gBAAA,EAAA;AADA,GAFA;AAKA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,MAAA,EAAA,QAFA;AAGA,QAAA,OAAA,EAAA;AAHA;AAJA,KAAA;AAUA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAEA,KAAA,KAAA,CAAA,gBAAA,EAFA;;AAAA;AAEA,gBAAA,WAFA;AAAA;AAAA;AAAA,uBAIA,KAAA,KAAA,CAAA,IAAA,CACA,yCADA,EAEA;AACA,kBAAA,KAAA,EAAA,KAAA,KADA;AAEA,kBAAA,IAAA,EAAA,KAAA,IAFA;AAGA,kBAAA,KAAA,EAAA,KAAA;AAHA,iBAFA,EAOA;AACA,kBAAA,OAAA,EAAA;AACA,oBAAA,aAAA,mBAAA,WAAA;AADA;AADA,iBAPA,CAJA;;AAAA;AAiBA,qBAAA,iBAAA,CACA,qDADA;AAjBA;AAAA;;AAAA;AAAA;AAAA;AAqBA,qBAAA,iBAAA,8CACA,YAAA,QAAA,CAAA,MADA,eACA,YAAA,QAAA,CAAA,UADA,QAEA,KAFA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA2BA,IAAA,iBA3BA,6BA2BA,OA3BA,EA2BA;AAAA,UAAA,OAAA,uEAAA,IAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA,WAAA,KAAA,CAAA,MAAA,GAAA,SAAA;AACA,WAAA,KAAA,CAAA,OAAA,GAAA,OAAA;AACA;AA/BA;AAjBA,CAAA","sourcesContent":["<template>\n  <div>\n    <DismissableAlert\n      :message=\"alert.message\"\n      :status=\"alert.status\"\n      :success=\"alert.success\"\n    ></DismissableAlert>\n    <form id=\"NotificationDirectForm\">\n      <div class=\"form-group\">\n        <label for=\"notification-token\">Token</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-token\"\n          v-model=\"token\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-title\">Titolo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-title\"\n          v-model=\"title\"\n        >\n        </textarea>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-body\">Corpo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-body\"\n          v-model=\"body\"\n        >\n        </textarea>\n      </div>\n      <button\n        type=\"button\"\n        @click=\"inviaNotifica\"\n        class=\"btn btn-primary rounded\"\n      >\n        Invia notifica\n      </button>\n    </form>\n  </div>\n</template>\n<script>\nimport DismissableAlert from \"../components/DismissableAlert\";\n\nexport default {\n  name: \"NotificationDirectForm\",\n  components: {\n    DismissableAlert,\n  },\n  data: function () {\n    return {\n      token: this.$route.params.id,\n      title: \"\",\n      body: \"\",\n      alert: {\n        message: \"\",\n        status: \"d-none\",\n        success: true,\n      },\n    };\n  },\n  methods: {\n    async inviaNotifica() {\n      const accessToken = await this.$auth.getTokenSilently();\n      try {\n        await this.$http.post(\n          \"https://push-api.herokuapp.com/messages\",\n          {\n            title: this.title,\n            body: this.body,\n            token: this.token,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n        this.showResponseAlert(\n          \"Operazione completata, il messaggio Ã¨ stato inviato\"\n        );\n      } catch (e) {\n        this.showResponseAlert(\n          `Errore: il server ha risposto con '${e.response.status}: ${e.response.statusText}'`,\n          false\n        );\n      }\n    },\n    showResponseAlert(message, success = true) {\n      this.alert.message = message;\n      this.alert.status = \"d-block\";\n      this.alert.success = success;\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/components"}]}