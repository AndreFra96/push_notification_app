{"remainingRequest":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue","mtime":1626253237794},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEaXNtaXNzYWJsZUFsZXJ0IGZyb20gIi4uL2NvbXBvbmVudHMvRGlzbWlzc2FibGVBbGVydCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5vdGlmaWNhdGlvbkRpcmVjdEZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIERpc21pc3NhYmxlQWxlcnQsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogIiIsCiAgICAgIHRpdGxlOiAiIiwKICAgICAgYm9keTogIiIsCiAgICAgIGFsZXJ0OiB7CiAgICAgICAgbWVzc2FnZTogIiIsCiAgICAgICAgc3RhdHVzOiAiZC1ub25lIiwKICAgICAgICBzdWNjZXNzOiB0cnVlLAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGludmlhTm90aWZpY2EoKSB7CiAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy4kYXV0aC5nZXRUb2tlblNpbGVudGx5KCk7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgdGhpcy4kaHR0cC5wb3N0KAogICAgICAgICAgImh0dHBzOi8vcHVzaC1hcGkuaGVyb2t1YXBwLmNvbS9tZXNzYWdlcyIsCiAgICAgICAgICB7CiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgICBib2R5OiB0aGlzLmJvZHksCiAgICAgICAgICAgIHRva2VuOiB0aGlzLnRva2VuLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHthY2Nlc3NUb2tlbn1gLAogICAgICAgICAgICB9LAogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgdGhpcy5zaG93UmVzcG9uc2VBbGVydCgKICAgICAgICAgICJPcGVyYXppb25lIGNvbXBsZXRhdGEsIGlsIG1lc3NhZ2dpbyDDqCBzdGF0byBpbnZpYXRvIgogICAgICAgICk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICB0aGlzLnNob3dSZXNwb25zZUFsZXJ0KAogICAgICAgICAgYEVycm9yZTogaWwgc2VydmVyIGhhIHJpc3Bvc3RvIGNvbiAnJHtlLnJlc3BvbnNlLnN0YXR1c306ICR7ZS5yZXNwb25zZS5zdGF0dXNUZXh0fSdgLAogICAgICAgICAgZmFsc2UKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgc2hvd1Jlc3BvbnNlQWxlcnQobWVzc2FnZSwgc3VjY2VzcyA9IHRydWUpIHsKICAgICAgdGhpcy5hbGVydC5tZXNzYWdlID0gbWVzc2FnZTsKICAgICAgdGhpcy5hbGVydC5zdGF0dXMgPSAiZC1ibG9jayI7CiAgICAgIHRoaXMuYWxlcnQuc3VjY2VzcyA9IHN1Y2Nlc3M7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["NotificationDirectForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NotificationDirectForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <DismissableAlert\n      :message=\"alert.message\"\n      :status=\"alert.status\"\n      :success=\"alert.success\"\n    ></DismissableAlert>\n    <form id=\"NotificationDirectForm\">\n      <div class=\"form-group\">\n        <label for=\"notification-token\">Token</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-token\"\n          v-model=\"token\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-title\">Titolo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-title\"\n          v-model=\"title\"\n        >\n        </textarea>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-body\">Corpo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-body\"\n          v-model=\"body\"\n        >\n        </textarea>\n      </div>\n      <button\n        type=\"button\"\n        @click=\"inviaNotifica\"\n        class=\"btn btn-primary rounded\"\n      >\n        Invia notifica\n      </button>\n    </form>\n  </div>\n</template>\n<script>\nimport DismissableAlert from \"../components/DismissableAlert\";\n\nexport default {\n  name: \"NotificationDirectForm\",\n  components: {\n    DismissableAlert,\n  },\n  data: function () {\n    return {\n      token: \"\",\n      title: \"\",\n      body: \"\",\n      alert: {\n        message: \"\",\n        status: \"d-none\",\n        success: true,\n      },\n    };\n  },\n  methods: {\n    async inviaNotifica() {\n      const accessToken = await this.$auth.getTokenSilently();\n      try {\n        await this.$http.post(\n          \"https://push-api.herokuapp.com/messages\",\n          {\n            title: this.title,\n            body: this.body,\n            token: this.token,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n        this.showResponseAlert(\n          \"Operazione completata, il messaggio Ã¨ stato inviato\"\n        );\n      } catch (e) {\n        this.showResponseAlert(\n          `Errore: il server ha risposto con '${e.response.status}: ${e.response.statusText}'`,\n          false\n        );\n      }\n    },\n    showResponseAlert(message, success = true) {\n      this.alert.message = message;\n      this.alert.status = \"d-block\";\n      this.alert.success = success;\n    },\n  },\n};\n</script>\n"]}]}