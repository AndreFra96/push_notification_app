{"remainingRequest":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/src/components/NotificationDirectForm.vue","mtime":1626256660235},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andreabrioschi/Desktop/progetto TLW/push-notification-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBEaXNtaXNzYWJsZUFsZXJ0IGZyb20gIi4uL2NvbXBvbmVudHMvRGlzbWlzc2FibGVBbGVydCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5vdGlmaWNhdGlvbkRpcmVjdEZvcm0iLAogIGNvbXBvbmVudHM6IHsKICAgIERpc21pc3NhYmxlQWxlcnQsCiAgfSwKICBkYXRhOiBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICB0b2tlbjogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICB0aXRsZTogIiIsCiAgICAgIGJvZHk6ICIiLAogICAgICBhbGVydDogewogICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgIHN0YXR1czogImQtbm9uZSIsCiAgICAgICAgc3VjY2VzczogdHJ1ZSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBpbnZpYU5vdGlmaWNhKCkgewogICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGF3YWl0IHRoaXMuJGF1dGguZ2V0VG9rZW5TaWxlbnRseSgpOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJGh0dHAucG9zdCgKICAgICAgICAgICJodHRwczovL3B1c2gtYXBpLmhlcm9rdWFwcC5jb20vbWVzc2FnZXMiLAogICAgICAgICAgewogICAgICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICAgICAgYm9keTogdGhpcy5ib2R5LAogICAgICAgICAgICB0b2tlbjogdGhpcy50b2tlbiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0KICAgICAgICApOwogICAgICAgIHRoaXMuc2hvd1Jlc3BvbnNlQWxlcnQoCiAgICAgICAgICAiT3BlcmF6aW9uZSBjb21wbGV0YXRhLCBpbCBtZXNzYWdnaW8gw6ggc3RhdG8gaW52aWF0byIKICAgICAgICApOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5zaG93UmVzcG9uc2VBbGVydCgKICAgICAgICAgIGBFcnJvcmU6IGlsIHNlcnZlciBoYSByaXNwb3N0byBjb24gJyR7ZS5yZXNwb25zZS5zdGF0dXN9OiAke2UucmVzcG9uc2Uuc3RhdHVzVGV4dH0nYCwKICAgICAgICAgIGZhbHNlCiAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIHNob3dSZXNwb25zZUFsZXJ0KG1lc3NhZ2UsIHN1Y2Nlc3MgPSB0cnVlKSB7CiAgICAgIHRoaXMuYWxlcnQubWVzc2FnZSA9IG1lc3NhZ2U7CiAgICAgIHRoaXMuYWxlcnQuc3RhdHVzID0gImQtYmxvY2siOwogICAgICB0aGlzLmFsZXJ0LnN1Y2Nlc3MgPSBzdWNjZXNzOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["NotificationDirectForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NotificationDirectForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <DismissableAlert\n      :message=\"alert.message\"\n      :status=\"alert.status\"\n      :success=\"alert.success\"\n    ></DismissableAlert>\n    <form id=\"NotificationDirectForm\">\n      <div class=\"form-group\">\n        <label for=\"notification-token\">Token</label>\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-token\"\n          v-model=\"token\"\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-title\">Titolo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-title\"\n          v-model=\"title\"\n        >\n        </textarea>\n      </div>\n      <div class=\"form-group\">\n        <label for=\"notification-body\">Corpo</label>\n        <textarea\n          type=\"text\"\n          class=\"form-control\"\n          id=\"notification-body\"\n          v-model=\"body\"\n        >\n        </textarea>\n      </div>\n      <button\n        type=\"button\"\n        @click=\"inviaNotifica\"\n        class=\"btn btn-primary rounded\"\n      >\n        Invia notifica\n      </button>\n    </form>\n  </div>\n</template>\n<script>\nimport DismissableAlert from \"../components/DismissableAlert\";\n\nexport default {\n  name: \"NotificationDirectForm\",\n  components: {\n    DismissableAlert,\n  },\n  data: function () {\n    return {\n      token: this.$route.params.id,\n      title: \"\",\n      body: \"\",\n      alert: {\n        message: \"\",\n        status: \"d-none\",\n        success: true,\n      },\n    };\n  },\n  methods: {\n    async inviaNotifica() {\n      const accessToken = await this.$auth.getTokenSilently();\n      try {\n        await this.$http.post(\n          \"https://push-api.herokuapp.com/messages\",\n          {\n            title: this.title,\n            body: this.body,\n            token: this.token,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n        this.showResponseAlert(\n          \"Operazione completata, il messaggio Ã¨ stato inviato\"\n        );\n      } catch (e) {\n        this.showResponseAlert(\n          `Errore: il server ha risposto con '${e.response.status}: ${e.response.statusText}'`,\n          false\n        );\n      }\n    },\n    showResponseAlert(message, success = true) {\n      this.alert.message = message;\n      this.alert.status = \"d-block\";\n      this.alert.success = success;\n    },\n  },\n};\n</script>\n"]}]}